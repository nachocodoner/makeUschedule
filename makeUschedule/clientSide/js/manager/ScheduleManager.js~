(function(se){
	var schedules = [];
	se.Managers.ScheduleManager = new Class({
		initialize: function(){
			this.idManager = new se.Managers.IdentificationManager();
		},
		add: function(name, daysOfWeek, since, to, each){
			var idSchedule = this.idManager.generateId();
			var schedule = new se.Entities.Schedule(idSchedule);
			
			schedules.push(schedule);
			
			this.setName(schedule, name);
			this.setDaysOfWeek(schedule, daysOfWeek);
			this.setSince(schedule, since);
			this.setTo(schedule, to);
			this.setEach(schedule, each);
			
			
			
			return schedule;
		},
		setName: function(schedule ,name){
			/* Comprobaciones si se necesitan */
			schedule.name = name;
		},
		setDaysOfWeek: function(schedule, daysOfWeek){
			schedule.daysOfWeek = daysOfWeek;
		},
		setSince: function(schedule, since){
			schedule.since = se.Util.timeToMinutes(since);
		},
		setTo: function(schedule, to){
			schedule.to = se.Util.timeToMinutes(to);
		},
		setEach: function(schedule, each){
			schedule.each = se.Util.timeToMinutes(each);
		},
		addTaskTag: function(schedule, taskTag){
			schedule.taskTags.push(taskTag);
		},
		addAdditionalTag: function(schedule, additionalTag){
			schedule.additionalTags.push(additionalTag);
		},
		removeTaskTag: function(schedule, idTaskTag){
			var end = false;
			for(var i = 0; i < schedule.taskTags.length && !end; ++i){
				if(schedule.taskTags[i].id == idTaskTag){
					schedule.taskTags.splice(i,1);
					end = true;
				}
			}
		}
	});
})(se);
